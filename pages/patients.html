<!-- View Patient Section (replaces modal) -->
<div class="page-section" id="view-patient-page">
  <div class="card">
    <div class="card-header flex justify-between items-center">
      <div>
        <h3 id="patientNameDisplay" style="margin-bottom: 5px">John Doe</h3>
        <span class="text-gray-500 text-sm">
          Patient ID:
          <span id="patientIdDisplay" class="text-gray-500 text-sm"></span>
        </span>
      </div>
      <button class="btn btn-outline" onclick="backToPatients()">← Back</button>
    </div>
    <div class="card-body">
      <!-- Tabs -->
      <div class="tab-buttons">
        <button class="tab-btn active" onclick="switchPatientTab('info')">
          Basic Info
        </button>
        <button class="tab-btn" onclick="switchPatientTab('medical')">
          Medical History
        </button>
        <button class="tab-btn" onclick="switchPatientTab('labs')">
          Lab Reports
        </button>
      </div>

      <!-- Tab Contents -->
      <div class="tab-content active" id="info-patient-tab">
        <table class="table">
          <tbody>
            <tr>
              <td class="w-3xs font-semibold">Age</td>
              <td id="patientAgeDisplay">35 years</td>
            </tr>
            <tr>
              <td class="w-3xs font-semibold">Gender</td>
              <td id="patientGenderDisplay">Male</td>
            </tr>
            <tr>
              <td class="w-3xs font-semibold">Weight</td>
              <td id="patientWeightDisplay"></td>
            </tr>
            <tr>
              <td class="font-semibold">Phone</td>
              <td id="patientPhoneDisplay">9876543210</td>
            </tr>
            <tr>
              <td class="font-semibold">Address</td>
              <td id="patientAddressDisplay">123 Main Street, Ahmedabad</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="tab-content" id="medical-patient-tab">
        <div id="medicalHistoryList"></div>
      </div>
      <div class="tab-content" id="labs-patient-tab">
        <table class="table">
          <tbody id="labReportsTable"></tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Edit Patient Section -->
<div class="page-section" id="edit-patient-page">
  <div class="card">
    <div class="card-header flex justify-between items-center">
      <h3>Edit Patient Details</h3>
      <button class="btn btn-outline" onclick="backToPatients()">← Back</button>
    </div>
    <div class="card-body">
      <form id="editPatientForm" onsubmit="saveEditedPatient(event)">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="font-semibold">First Name</label>
            <input
              type="text"
              id="editPatientFirstName"
              class="input"
              required
            />
          </div>
          <div>
            <label class="font-semibold">Last Name</label>
            <input type="text" id="editPatientLastName" class="input" />
          </div>
          <div>
            <label class="font-semibold">Age</label>
            <input type="number" id="editPatientAge" class="input" required />
          </div>
          <div>
            <label class="font-semibold">Gender</label>
            <select id="editPatientGender" class="input">
              <option value="M">M</option>
              <option value="F">F</option>
              <option value="O">O</option>
            </select>
          </div>
          <div>
            <label class="font-semibold">Phone</label>
            <input type="text" id="editPatientPhone" class="input" required />
          </div>
          <div>
            <label class="font-semibold">Email</label>
            <input type="email" id="editPatientEmail" class="input" />
          </div>
          <div class="col-span-2">
            <label class="font-semibold">Address</label>
            <textarea id="editPatientAddress" class="input"></textarea>
          </div>
        </div>

        <div class="mt-4 flex justify-end gap-3">
          <button
            type="button"
            class="btn btn-outline"
            onclick="backToPatients()"
          >
            Cancel
          </button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Patients Page -->
<div class="page-content" id="patients-page">
  <!-- Search Bar -->
  <div class="search-bar">
    <div class="search-container">
      <input
        type="text"
        placeholder="Search Patient Name, ID or Phone..."
        id="patientSearch"
        oninput="searchPatients()"
      />
    </div>
    <button class="btn btn-primary hide" onclick="searchPatientById()">
      Search
    </button>
  </div>

  <div class="display-grid">
    <!-- Add Patient Form -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-header-title">Add Patient Queue</h3>
      </div>
      <div class="card-body">
        <!-- Patient form fields same as before -->
        <div class="form-row">
          <div class="form-group">
            <label>Patient Name</label>
            <input type="text" id="addPatientQueueName" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Age</label>
            <input type="number" id="addPatientQueueAge" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Weight</label>
            <input type="number" id="addPatientQueueWeight" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Sex</label>
            <select id="addPatientQueueSex" required>
              <option value="">Select</option>
              <option value="M">Male</option>
              <option value="F">Female</option>
              <option value="O">Other</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" id="addPatientQueuePhone" required />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Address</label>
            <textarea rows="2" id="addPatientQueueAddress"></textarea>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Complain</label>
            <div class="flex gap-2">
              <label class="flex items-center gap-2">
                <input type="checkbox" name="complain" value="Ear" /> Ear
              </label>
              <label class="flex items-center gap-2">
                <input type="checkbox" name="complain" value="Nose" /> Nose
              </label>
              <label class="flex items-center gap-2">
                <input type="checkbox" name="complain" value="Throat" /> Throat
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="pl-4 pb-4">
        <button class="btn btn-outline" onclick="resetAddPatientQueueForm()">
          Clear
        </button>
        <button class="btn btn-primary" onclick="saveDashboardPatient()">
          Save
        </button>
      </div>
    </div>

    <!-- Patient Tables -->
    <div class="pb-4 pl-4 pr-4 flex-col">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Patient In Queue</h3>
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="patientsInQueueTable">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="card mt-2">
        <div class="card-header">
          <h3 class="card-title">Today's Invoice</h3>
        </div>
        <div class="card-body">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="patientsTodaysInvoiceTable">
              <!-- Dynamic content -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
